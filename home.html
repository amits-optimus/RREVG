<!doctype html>
<html lang="en">
<head>
<LINK REL="stylesheet" TYPE="text/css" HREF="css/style.css"
	TITLE="Style">
<script
	src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="js/jquery.google.spreadsheet.js"></script>
<script type="text/javascript">
	var termArray = [];
	var categoryArray = [];
	var allTermArray = [];
	var MSG_PLEASE_ENTER_TERM = "Please enter a term";
	var NO_TERM_FOUND = "NO TERM FOUND";
	var jsonData;
	var url = "https://docs.google.com/spreadsheet/pub?key=0AndHhf59uXsYdDdsQ1BrLVJ4SGdvTHIwcFV2ZW1UM2c&output=html";
	
	function browse() {
		var searchItem = document.getElementById('searchInput').value;
		if (searchItem.trim().length != 0) {
			searchItem = searchItem.toLowerCase();
			if (jsonData == null) {
				var googleSpreadsheet = new GoogleSpreadsheet();
				googleSpreadsheet.url(url);
				googleSpreadsheet.load(function(result) {
					jsonData = result;
					termArray.length = 0;
					categoryArray.length = 0;
					getTermsBySearchValue(searchItem);
				});

			} else {
				termArray.length = 0;
				categoryArray.length = 0;
				getTermsBySearchValue(searchItem);
			}

		} else {
			alert(MSG_PLEASE_ENTER_TERM);
			return;
		}
	}

	function populateCategory(category) {
		var found = false;
		if (category != null) {
			for (m = 0; m < categoryArray.length; m++) {
				if (categoryArray[m] == category) {
					found = true;
					break;
				}
			}
			if (!found) {
				categoryArray.push(category);
				found = false;
			}
		}
	}

	function getAllTerms() {
		for (e = 1; e < jsonData.items.length; e++) {
			if (jsonData.items[e]._cokwr != null) {
				allTermArray.push(jsonData.items[e]._cokwr);
				populateCategory(jsonData.items[e].id);
			}
		}
	}
	function getTermsBySearchValue(searchItem) {
		for (ii = 1; ii < jsonData.items.length; ii++) {
				populateCategory(jsonData.items[ii].id);
			
			if (jsonData.items[ii].id != null
					&& jsonData.items[ii].id.toLowerCase().indexOf(searchItem) != -1) {
				if (jsonData.items[ii]._cokwr != null) {
					termArray.push(jsonData.items[ii]._cokwr);

				}
				continue;
			} else if (jsonData.items[ii]._cokwr != null
					&& jsonData.items[ii]._cokwr.toLowerCase().indexOf(
							searchItem) != -1) {
				if (jsonData.items[ii]._cokwr != null) {
					termArray.push(jsonData.items[ii]._cokwr);

				}
				continue;
			} else if (jsonData.items[ii]._cpzh4 != null
					&& jsonData.items[ii]._cpzh4.toLowerCase().indexOf(
							searchItem) != -1) {
				if (jsonData.items[ii]._cokwr != null) {
					termArray.push(jsonData.items[ii]._cokwr);

				}
				continue;
			} else if (jsonData.items[ii]._chk2m != null
					&& jsonData.items[ii]._chk2m.toLowerCase().indexOf(
							searchItem) != -1) {
				if (jsonData.items[ii]._cokwr != null) {
					termArray.push(jsonData.items[ii]._cokwr);

				}
				continue;
			}

		}
		if (termArray != null && termArray.length != 0) {
			termArray.sort();
			addTermToList(termArray);
			if (categoryArray.length != 0) {
				categoryArray.sort();
				addCategoryToList();
			}
			document.getElementById('searchContainer').style.display = 'none';
			document.getElementById('footerBar').style.display = 'none';
			document.getElementById('Tabs').style.display = 'block';

		} else {
			alert(NO_TERM_FOUND);
		}
	}

	function browseAll() {
		if (jsonData == null) {
			var googleSpreadsheet = new GoogleSpreadsheet();
			googleSpreadsheet.url(url);
			googleSpreadsheet
					.load(function(result) {
						jsonData = result;
						if (allTermArray == null || allTermArray.length == 0
								|| categoryArray == null
								|| categoryArray.length == 0) {
							allTermArray.length = 0;
							categoryArray.length = 0;
							getAllTerms();
						}
						if (allTermArray != null && allTermArray.length != 0) {

							allTermArray.sort();
							addTermToList(allTermArray);
							if (categoryArray.length != 0) {
								categoryArray.sort();
								addCategoryToList();
							}
							document.getElementById('searchContainer').style.display = 'none';
							document.getElementById('footerBar').style.display = 'none';
							document.getElementById('Tabs').style.display = 'block';

						} else {
							alert(NO_TERM_FOUND);
						}
					});

		} else {
			if (allTermArray == null || allTermArray.length == 0
					|| categoryArray == null || categoryArray.length == 0) {
				getAllTerms();
			}
				if (allTermArray != null && allTermArray.length != 0) {

							allTermArray.sort();
							addTermToList(allTermArray);
							if (categoryArray.length != 0) {
								categoryArray.sort();
								addCategoryToList();
							}
							document.getElementById('searchContainer').style.display = 'none';
							document.getElementById('footerBar').style.display = 'none';
							document.getElementById('Tabs').style.display = 'block';

						} else {
							alert(NO_TERM_FOUND);
						}
			}
		
	}
	function getFilteredTermsByCategory(category) {
		category = category.trim();
		var filteredTerms = [];
		for (k = 0; k < jsonData.items.length; k++) {
			if (jsonData.items[k].id === category) {
				if (jsonData.items[k]._cokwr != null) {
					filteredTerms.push(jsonData.items[k]._cokwr);
				}
			}
		}
		return filteredTerms;
	}
	function tab(tab) {
		document.getElementById('tab1').style.display = 'none';
		document.getElementById('tab2').style.display = 'none';
		document.getElementById('li_tab1').setAttribute("class", "");
		document.getElementById('li_tab2').setAttribute("class", "");
		document.getElementById(tab).style.display = 'block';
		document.getElementById('li_' + tab).setAttribute("class", "active");
	}
	function prepareList() {
		$('#nlists').find('li:has(ul)').click(function(event) {
			if (this == event.target) {
				$(this).toggleClass('expanded');
				$(this).children('ul').toggle('medium');
			}
			return false;
		}).addClass('collapsed').children('ul').hide();

	};
	function addCategoryToList() {
		var localPlaceholder = document.getElementById("nlists");
		var li = document.createElement("li");
		li.appendChild(document.createTextNode(""));
		li.className = "head";
		localPlaceholder.appendChild(li);
		for (n = 0; n < categoryArray.length; n++) {
			var lii = document.createElement("li");
			lii.className = "listItemIndexList";
			lii.appendChild(document.createTextNode(categoryArray[n]));
			var subList = document.createElement("ul");
			var filteredTerms = getFilteredTermsByCategory(categoryArray[n]);
			for (o = 0; o < filteredTerms.length; o++) {
				var subListItem = document.createElement("li");
				subListItem.appendChild(document
						.createTextNode(filteredTerms[o]));
				/*subListItem.onclick = function listItemIndexList() {
					//invokeDialog(this.innerHTML);
				}*/
				subListItem.style.background = '#eeeeee';
				subListItem.className = "listItemIndexList1";
				subList.appendChild(subListItem);
			}
			lii.appendChild(subList);
			localPlaceholder.appendChild(lii);
		}
		prepareList();
	}
	function addTermToList(term) {
		if (term != null && term.length != 0) {
			for (i = 0; i < term.length; i++) {
				if (term[i].charAt(0) == 'A') {
					document.getElementById('lA').style.display = 'block';
					var par = document.getElementById('ulA');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}

				} else if (term[i].charAt(0) == 'B') {
					document.getElementById('lB').style.display = 'block';
					var par = document.getElementById('ulB');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}

				} else if (term[i].charAt(0) == 'C') {
					document.getElementById('lC').style.display = 'block';
					var par = document.getElementById('ulC');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}

				} else if (term[i].charAt(0) == 'D') {
					document.getElementById('lD').style.display = 'block';
					var par = document.getElementById('ulD');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}

				} else if (term[i].charAt(0) == 'E') {
					document.getElementById('lE').style.display = 'block';
					var par = document.getElementById('ulE');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}

				} else if (term[i].charAt(0) == 'F') {
					document.getElementById('lF').style.display = 'block';
					var par = document.getElementById('ulF');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}

				} else if (term[i].charAt(0) == 'H') {
					document.getElementById('lH').style.display = 'block';
					var par = document.getElementById('ulH');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}

				} else if (term[i].charAt(0) == 'I') {
					document.getElementById('lI').style.display = 'block';
					var par = document.getElementById('ulI');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}

				} else if (term[i].charAt(0) == 'J') {
					document.getElementById('lJ').style.display = 'block';
					var par = document.getElementById('ulJ');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}

				} else if (term[i].charAt(0) == 'K') {
					document.getElementById('lK').style.display = 'block';
					var par = document.getElementById('ulK');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'L') {
					document.getElementById('lL').style.display = 'block';
					var par = document.getElementById('ulL');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'M') {
					document.getElementById('lM').style.display = 'block';
					var par = document.getElementById('ulM');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'N') {
					document.getElementById('lN').style.display = 'block';
					var par = document.getElementById('ulN');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'O') {
					document.getElementById('lO').style.display = 'block';
					var par = document.getElementById('ulO');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'P') {
					document.getElementById('lP').style.display = 'block';
					var par = document.getElementById('ulP');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'Q') {
					document.getElementById('lQ').style.display = 'block';
					var par = document.getElementById('ulQ');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'R') {
					document.getElementById('lR').style.display = 'block';
					var par = document.getElementById('ulR');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'S') {
					document.getElementById('lS').style.display = 'block';
					var par = document.getElementById('ulS');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						//invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'T') {
					document.getElementById('lT').style.display = 'block';
					var par = document.getElementById('ulT');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'U') {
					document.getElementById('lU').style.display = 'block';
					var par = document.getElementById('ulU');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'V') {
					document.getElementById('lV').style.display = 'block';
					var par = document.getElementById('ulV');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'W') {
					document.getElementById('lW').style.display = 'block';
					var par = document.getElementById('ulW');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'X') {
					document.getElementById('lX').style.display = 'block';
					var par = document.getElementById('ulX');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'Y') {
					document.getElementById('lY').style.display = 'block';
					var par = document.getElementById('ulY');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						invokeDialog(this.innerHTML);
					}
				} else if (term[i].charAt(0) == 'Z') {
					document.getElementById('lZ').style.display = 'block';
					var par = document.getElementById('ulZ');
					var uli = document.createElement("li");
					uli.appendChild(document.createTextNode(term[i]));
					uli.className = "listItemIndexList";
					par.appendChild(uli);
					uli.onclick = function listItemIndexList() {
						invokeDialog(this.innerHTML);
					}
				}
			}
		}
	}
</script>
</head>
<body>
	<div id="titleBar">
		<img id="logo" src="images/logo.bmp"></img>
	</div>
	<div id="footerBar">
		<button class="browseButton" onClick="browseAll()">
			<p>Browse</p>
		</button>
	</div>
	<div id="searchContainer">
		<input type="text" id="searchInput" placeholder="Please Enter A Term"></input><br />
		<button onClick="browse()">Search</button>
	</div>
	<div id="Tabs">
		<ul id="tabsList">
			<li id="li_tab1" onclick="tab('tab1')"><a id="tab1Link">Tab
					1</a></li>
			<li id="li_tab2" onclick="tab('tab2')"><a id="tab2Link">Tab
					2</a></li>
		</ul>
		<div id="Content_Area">
			<div id="tab1">
				<div id="iphone-scrollcontainer">
					<ul id="iphone-search">
						<li><a href="#A" title="A">A</a></li>
						<li><a href="#B" title="B">B</a></li>
						<li><a href="#C" title="C">C</a></li>
						<li><a href="#D" title="D">D</a></li>
						<li><a href="#E" title="E">E</a></li>
						<li><a href="#F" title="F">F</a></li>
						<li><a href="#G" title="G">G</a></li>
						<li><a href="#H" title="H">H</a></li>
						<li><a href="#I" title="I">I</a></li>
						<li><a href="#J" title="J">J</a></li>
						<li><a href="#K" title="K">K</a></li>
						<li><a href="#L" title="L">L</a></li>
						<li><a href="#M" title="M">M</a></li>
						<li><a href="#N" title="N">N</a></li>
						<li><a href="#O" title="O">O</a></li>
						<li><a href="#P" title="P">P</a></li>
						<li><a href="#Q" title="Q">Q</a></li>
						<li><a href="#R" title="R">R</a></li>
						<li><a href="#S" title="S">S</a></li>
						<li><a href="#T" title="T">T</a></li>
						<li><a href="#U" title="U">U</a></li>
						<li><a href="#V" title="V">V</a></li>
						<li><a href="#W" title="W">W</a></li>
						<li><a href="#X" title="X">X</a></li>
						<li><a href="#Y" title="Y">Y</a></li>
						<li><a href="#Z" title="Z">Z</a></li>
					</ul>
					<ul id="iphone-scroll">
						<li id="lA" style="display: none">
							<div id="nav-indicator-fixed"></div> <a name="A"></a>
							<div class="nav-indicator" id="nav-a">A</div>
							<ul id="ulA">
							</ul>
						</li>
						<li id="lB" style="display: none"><a name="B"></a>
							<div class="nav-indicator" id="nav-b">B</div>
							<ul id="ulB">
							</ul></li>
						<li id="lC" style="display: none"><a name="C"></a>
							<div class="nav-indicator" id="nav-c">C</div>
							<ul id="ulC">
							</ul></li>
						<li id="lD" style="display: none"><a name="D"></a>
							<div class="nav-indicator" id="nav-d">D</div>
							<ul id="ulD">
							</ul></li>
						<li id="lE" style="display: none"><a name="E"></a>
							<div class="nav-indicator" id="nav-e">E</div>
							<ul id="ulE">
							</ul></li>
						<li id="lF" style="display: none"><a name="F"></a>
							<div class="nav-indicator" id="nav-f">F</div>
							<ul id="ulF">
							</ul></li>
						<li id="lG" style="display: none"><a name="G"></a>
							<div class="nav-indicator" id="nav-g">G</div>
							<ul id="ulG">
							</ul></li>
						<li id="lH" style="display: none"><a name="H"></a>
							<div class="nav-indicator" id="nav-h">H</div>
							<ul id="ulH">
							</ul></li>

						<li id="lI" style="display: none"><a name="I"></a>
							<div class="nav-indicator" id="nav-i">I</div>
							<ul id="ulI">
							</ul></li>
						<li id="lJ" style="display: none"><a name="J"></a>
							<div class="nav-indicator" id="nav-g">J</div>
							<ul id="ulJ">
							</ul></li>
						<li id="lK" style="display: none"><a name="K"></a>
							<div class="nav-indicator" id="nav-g">K</div>
							<ul id="ulK">
							</ul></li>
						<li id="lL" style="display: none"><a name="L"></a>
							<div class="nav-indicator" id="nav-g">L</div>
							<ul id="ulL">
							</ul></li>
						<li id="lM" style="display: none"><a name="M"></a>
							<div class="nav-indicator" id="nav-g">M</div>
							<ul id="ulM">
							</ul></li>
						<li id="lN" style="display: none"><a name="N"></a>
							<div class="nav-indicator" id="nav-g">N</div>
							<ul id="ulN">
							</ul></li>
						<li id="lO" style="display: none"><a name="O"></a>
							<div class="nav-indicator" id="nav-g">O</div>
							<ul id="ulO">
							</ul></li>
						<li id="lP" style="display: none"><a name="P"></a>
							<div class="nav-indicator" id="nav-g">P</div>
							<ul id="ulP">
							</ul></li>
						<li id="lQ" style="display: none"><a name="Q"></a>
							<div class="nav-indicator" id="nav-g">Q</div>
							<ul id="ulQ">
							</ul></li>
						<li id="lR" style="display: none"><a name="R"></a>
							<div class="nav-indicator" id="nav-g">R</div>
							<ul id="ulR">
							</ul></li>
						<li id="lS" style="display: none"><a name="S"></a>
							<div class="nav-indicator" id="nav-g">S</div>
							<ul id="ulS">
							</ul></li>
						<li id="lT" style="display: none"><a name="T"></a>
							<div class="nav-indicator" id="nav-g">T</div>
							<ul id="ulT">
							</ul></li>
						<li id="lU" style="display: none"><a name="U"></a>
							<div class="nav-indicator" id="nav-g">U</div>
							<ul id="ulU">
							</ul></li>
						<li id="lV" style="display: none"><a name="V"></a>
							<div class="nav-indicator" id="nav-g">V</div>
							<ul id="ulV">
							</ul></li>
						<li id="lW" style="display: none"><a name="W"></a>
							<div class="nav-indicator" id="nav-g">W</div>
							<ul id="ulW">
							</ul></li>
						<li id="lX" style="display: none"><a name="X"></a>
							<div class="nav-indicator" id="nav-g">X</div>
							<ul id="ulX">
							</ul></li>
						<li id="lY" style="display: none"><a name="Y"></a>
							<div class="nav-indicator" id="nav-g">Y</div>
							<ul id="ulY">
							</ul></li>
						<li id="lZ" style="display: none"><a name="Z"></a>
							<div class="nav-indicator" id="nav-g">Z</div>
							<ul id="ulZ">
							</ul></li>
					</ul>
				</div>
			</div>


			<div id="tab2" style="display: none;">
				<nav>
					<ul id="nlists">
					</ul>

				</nav>
			</div>
		</div>
		<!– End of Content_Area Div –>
	</div>
	<!– End of Tabs Div –>
</body>
</html>